<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sofa2Slugger</title>
  <link rel="stylesheet" href="assets/css/app.css">
</head>

<body>
  <!-- Splash Screen -->
  <div class="splash" id="splash">
    <h1 class="splash-title">SOFA<span class="red-2">2</span>SLUGGER</h1>
    <p class="splash-subtitle">Boxing for the rest of us.</p>
    <span class="splash-enter">Click to enter</span>
  </div>

  <div class="grain-overlay"></div>
  <main class="landing">

    <!-- ========== ABOVE THE FOLD ========== -->
    <section class="hero-fold">
      <header>
        <h1>Sofa<span class="red-2">2</span>Slugger</h1>
        <p class="hero-tagline">Beginner boxing. Audio-guided. No gym.</p>
      </header>

      <div class="hero-visual">
        <img src="assets/images/splash.npg.jpeg" alt="Boxing at home">
      </div>

      <div class="hero-cta">
        <!-- PRIMARY CTA -->
        <a href="gym.html" class="btn-overhaul-primary">
          Start Session 1 &mdash; Free
        </a>

        <!-- SECONDARY CTA -->
        <button id="btn-manifesto" class="btn-overhaul-secondary">
          Hear the Manifesto (2 Min)
        </button>

        <!-- Manifest Player Container (Functionality Only) -->
        <div class="manifesto-player" style="margin-top:0;">
          <p id="manifesto-status" style="font-size:10px;opacity:0.5;margin-top:6px;"></p>
        </div>

        <p style="font-size:13px;font-weight:600;opacity:0.9;margin-top:16px;color:#5a4a3a;">
          No signup required
        </p>
      </div>
    </section>

    <!-- ========== BELOW THE FOLD ========== -->
    <section class="detail-fold">

      <!-- Emotional hook -->
      <p class="emotional-hook">Move the body first. Thinking follows.</p>

      <div class="intro-card">
        <p class="intro-lead">Sofa2Slugger is an audio-first experience designed to interrupt inaction and return you to
          physical agency.</p>
        <p class="intro-desc">It is for those who feel stuck, stalled, or dulled by comfort. It is not therapy. It is
          not motivation. It is structured, embodied action.</p>
      </div>

      <!-- Why audio works -->
      <div class="why-audio">
        <p>Headphones on. No screens. Body moving.</p>
      </div>

      <!-- What You'll Learn -->
      <section class="content-section">
        <h2 class="section-title">What You'll Learn</h2>
        <ul class="feature-list">
          <li>Proper boxing stance and footwork</li>
          <li>The four fundamental punches</li>
          <li>Basic defensive movements</li>
          <li>How to throw combinations with rhythm</li>
          <li>Building cardio through boxing drills</li>
        </ul>
      </section>

      <!-- Who This Is For -->
      <section class="content-section">
        <h2 class="section-title">Who This Is For</h2>
        <ul class="feature-list">
          <li>Complete beginners with zero boxing experience</li>
          <li>People who feel intimidated by gyms or classes</li>
          <li>Anyone who wants to train at home, on their own time</li>
          <li>Those looking for a real workout, not just fitness theatre</li>
        </ul>
      </section>

      <!-- What You Get -->
      <section class="content-section">
        <h2 class="section-title">What You Get</h2>
        <ul class="feature-list check-list">
          <li>10 structured audio training sessions</li>
          <li>Instant access after purchase</li>
          <li>Lifetime ownership&mdash;no subscription</li>
          <li>Train anywhere, anytime</li>
        </ul>
      </section>

      <!-- Pricing -->
      <div class="pricing-anchor" id="pricing">
        <p class="value-anchor">A single boxing class costs &pound;15&ndash;&pound;25.<br>Sofa2Slugger gives you 10
          sessions for
          <strong>&pound;9.99</strong>.
        </p>
        <div style="margin-top: 20px;">
          <!-- Stripe Payment Link -->
          <a href="https://buy.stripe.com/7sY7sM8823E8auX3WR8k800" class="btn-primary"
            style="text-decoration: none; padding: 12px 24px;">Unlock Sessions 2-10</a>
        </div>
      </div>

      <!-- Social proof -->
      <div class="testimonial">
        <p class="testimonial-quote">"This made me feel like I was actually learning boxing, not just doing cardio."</p>
      </div>

      <!-- What Happens After You Buy -->
      <section class="content-section reassurance">
        <h2 class="section-title">What Happens After You Buy</h2>
        <p class="reassurance-text">You'll get instant access to all 10 sessions via Google Drive. Download them to your
          phone, save them offline, and train whenever you're ready. No accounts, no apps to install, no waiting.</p>
      </section>

    </section>

    <nav class="main-nav">
      <a href="gym.html" class="nav-card">
        <span class="nav-title">Gym</span>
        <span class="nav-desc">Train</span>
      </a>
      <a href="tape.html" class="nav-card">
        <span class="nav-title">Tale of the Tape</span>
        <span class="nav-desc">Progress</span>
      </a>
      <a href="fightiq.html" class="nav-card">
        <span class="nav-title">Fight IQ</span>
        <span class="nav-desc">Glossary</span>
      </a>
      <a href="corner.html" class="nav-card">
        <span class="nav-title">Corner</span>
        <span class="nav-desc">Support</span>
      </a>
    </nav>
  </main>

  <script>
    // ================================
    // PAYMENT & ACCESS LOGIC
    // ================================
    var STORAGE_KEY_PAID = "s2s_premium_access";

    // check for payment success return
    var urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('payment') === 'success') {
      localStorage.setItem(STORAGE_KEY_PAID, 'true');
      // Clean URL
      window.history.replaceState({}, document.title, window.location.pathname);
    }

    function isPremium() {
      return localStorage.getItem(STORAGE_KEY_PAID) === 'true';
    }

    // ================================
    // SPLASH SCREEN
    // ================================
    (function () {
      var splash = document.getElementById("splash");
      var STORAGE_KEY = "s2s_splash_seen";
      var STORAGE_TIME_KEY = "s2s_splash_time";
      var SPLASH_COOLDOWN = 1000 * 60 * 60; // Show splash again after 1 hour

      // Check if splash was recently seen (within cooldown period)
      var lastSeen = parseInt(localStorage.getItem(STORAGE_TIME_KEY) || "0");
      var now = Date.now();
      if (now - lastSeen < SPLASH_COOLDOWN) {
        splash.style.display = "none";
        return;
      }

      function dismissSplash() {
        splash.classList.add("fade-out");
        localStorage.setItem(STORAGE_KEY, "1");
        localStorage.setItem(STORAGE_TIME_KEY, Date.now().toString());
        setTimeout(function () {
          splash.style.display = "none";
        }, 600);
      }

      // Auto-dismiss after 3.5 seconds
      var autoTimer = setTimeout(dismissSplash, 3500);

      // Click to dismiss immediately
      splash.addEventListener("click", function () {
        clearTimeout(autoTimer);
        dismissSplash();
      });
    })();

    // ================================
    // MANIFESTO PLAYER
    // ================================
    var manifestoBtn = document.getElementById("btn-manifesto");
    var manifestoIcon = document.getElementById("manifesto-icon");
    var manifestoStatus = document.getElementById("manifesto-status");
    var manifestoAudio = null;
    var isPlaying = false;

    manifestoBtn.addEventListener("click", function () {
      if (isPlaying) {
        // Stop
        if (manifestoAudio) {
          manifestoAudio.pause();
          manifestoAudio.currentTime = 0;
        }
        isPlaying = false;
        manifestoIcon.innerHTML = "&#9654;";
        manifestoBtn.innerHTML = '<span id="manifesto-icon">&#9654;</span> Play Manifesto';
        manifestoStatus.textContent = "";
      } else {
        // Play
        manifestoAudio = new Audio("/audio/manifesto.mp3");
        manifestoAudio.play();
        isPlaying = true;
        manifestoIcon.innerHTML = "&#9632;";
        manifestoBtn.innerHTML = '<span id="manifesto-icon">&#9632;</span> Stop';
        manifestoStatus.textContent = "Playing manifesto...";

        manifestoAudio.addEventListener("ended", function () {
          isPlaying = false;
          manifestoBtn.innerHTML = '<span id="manifesto-icon">&#9654;</span> Play Manifesto';
          manifestoStatus.textContent = "When youâ€™re ready, Session 1 is available in the Gym.";
        });

        manifestoAudio.addEventListener("error", function () {
          isPlaying = false;
          manifestoBtn.innerHTML = '<span id="manifesto-icon">&#9654;</span> Play Manifesto';
          manifestoStatus.textContent = "Error loading audio";
        });
      }
    });

  </script>
</body>

</html>